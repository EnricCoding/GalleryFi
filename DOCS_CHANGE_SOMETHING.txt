1) Contratos (Hardhat)
Recompila y (opcional) testea

bash
Copiar
Editar
cd packages/contracts
npx hardhat clean
npm run build
npm test
Deploy a Sepolia (solo el/los que cambiaste, usando tags)

bash
Copiar
Editar
npx hardhat deploy --network sepolia --tags MyNFT
# o
npx hardhat deploy --network sepolia --tags NftMarketplace
# o todos
npm run deploy:sepolia
(Opcional) Verificar

bash
Copiar
Editar
npx hardhat verify --network sepolia <ADDRESS> <constructor args...>
Anota las nuevas direcciones si hubo redeploy.

2) ABIs & direcciones → Frontend
Exporta ABIs al front:

bash
Copiar
Editar
# desde /packages/contracts
mkdir -p ../frontend/abi
cp artifacts/contracts/MyNFT.sol/MyNFT.json ../frontend/abi/MyNFT.json
cp artifacts/contracts/MyNftMarketPlace.sol/NftMarketplace.json ../frontend/abi/NftMarketplace.json
Actualiza .env.local (si cambió alguna address o chain):

ini
Copiar
Editar
NEXT_PUBLIC_NFT_ADDRESS=0x...
NEXT_PUBLIC_MARKET_ADDRESS=0x...
Reinicia el servidor del front

bash
Copiar
Editar
cd ../frontend
npm run dev
3) Subgraph (si cambian direcciones, eventos o entidades)
Actualiza subgraph.yaml (source.address y, si quieres, startBlock).

Codegen, build y deploy con nueva versión:

bash
Copiar
Editar
cd ../subgraph
npm run codegen
npm run build
npm run deploy
Actualiza el endpoint en el front (si cambia la versión del Studio):

bash
Copiar
Editar
NEXT_PUBLIC_SUBGRAPH_URL=https://api.studio.thegraph.com/query/117753/gallery-fi/<nueva-version>
Espera a que el subgraph esté Synced.

4) Comprobaciones rápidas en el Front
Refresca la página y/o limpia cache de Apollo si hace falta.

Si cambió MyNFT, el flujo ya revisa isApprovedForAll; se volverá a pedir aprobación si es nuevo.

Prueba Mint → List y revisa /explore (puede tardar segundos por indexación).

5) Troubleshooting express
Bytecode mismatch al verificar: recompila con hardhat clean, confirma args, o redeploya el contrato correcto.

El subgraph devuelve vacío: revisa address/startBlock/mappings y el estado de indexación.

function selector not found: el contrato en esa address no tiene la función nueva → redeploy y actualiza .env.local.

Errores de precio/listing: confirma tokenId, price en wei y que el listing exista.

Pro tip (DX): añade hardhat-abi-exporter para exportar ABIs automáticamente al compilar y evitar el paso manual.